

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Simulating Our Design &mdash; Vivado Tutorial  documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
      <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=187304be"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>let toggleHintShow = 'Click to show';</script>
      <script>let toggleHintHide = 'Click to hide';</script>
      <script>let toggleOpenOnPrint = 'true';</script>
      <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
      <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
      <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Adding Block Designs" href="../block_designs/" />
    <link rel="prev" title="Adding Sources" href="../sources/" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../" class="icon icon-home">
            Vivado Tutorial
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/">Overview</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Walkthrough</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../setup/">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sources/">Adding Sources</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Simulating Our Design</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#simulation-settings">Simulation Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulation">Simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../block_designs/">Adding Block Designs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../synthesis/">Synthesizing Our Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../constraints/">Adding Constraints</a></li>
<li class="toctree-l1"><a class="reference internal" href="../implementation/">Implementing Our Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bitstream/">Generating a Bitstream</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../appendices/processing_system/">Appendix A: Using the Zynq7 Processing System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../appendices/debug_probes/">Appendix B: Using Debug Probes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../">Vivado Tutorial</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Simulating Our Design</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/Aidan-McNay/vivado-tutorial/blob/main/docs/simulation.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="simulating-our-design">
<h1>Simulating Our Design<a class="headerlink" href="#simulating-our-design" title="Link to this heading"></a></h1>
<p>Before pushing our design through the flow, we may want to test it to
verify its functionality.</p>
<section id="simulation-settings">
<h2>Simulation Settings<a class="headerlink" href="#simulation-settings" title="Link to this heading"></a></h2>
<p>Before we simulate our design, it is worth pointing out where to find
the settings for doing so, in case users wish to manipulate them.</p>
<p>From the GUI, navigate to <strong>Flow -&gt; Settings -&gt; Simulation Settings</strong>.
In the window that appears, you should find all of the settings for
simulating the design (as well as other steps of the flow, should you
ever want them). This can be helpful for configuring Vivado’s simulator,
as well as further defining the simulation environment (such as any
preprocessor defines or changing the simulation length).</p>
<p>Verify that the “Top module name” is set to <code class="docutils literal notranslate"><span class="pre">GrayCodeTest</span></code>.
Additionally, our <code class="docutils literal notranslate"><span class="pre">gray_code_test.sv</span></code> has the line
<strong>`include gray_code.sv</strong>; however, we haven’t told Vivado where to find
that file. Even though the file is added as a source, Vivado doesn’t
assume the location of our intended file. Under the <strong>Compilation</strong> tab,
click the three dots next to <strong>Verilog options</strong>. Under
<strong>Verilog Include Files Search Path</strong>, add the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory of the
tutorial repo, click <strong>OK</strong> to close the options pop-up, then
<strong>Apply</strong>, <strong>OK</strong> to close the settings.</p>
<p>A few other notes:</p>
<ul class="simple">
<li><p>Vivado is able to find the correct modules without include statements,
so future designs do not need them if the file with the module is added
(though this one was left in as a demonstration)</p></li>
<li><p>The include path update can also be done as a Tcl command; however,
knowning all the settings and changing them is often an interactive
one, and is best done in the GUI unless the changes are already known</p></li>
</ul>
</section>
<section id="simulation">
<h2>Simulation<a class="headerlink" href="#simulation" title="Link to this heading"></a></h2>
<p>We should now be able to run our simulation to test our design!</p>
<div class="sphinx-tabs docutils container">
<div aria-label="Tabbed content" class="closeable" role="tablist"><button aria-controls="panel-0-R1VJ" aria-selected="true" class="sphinx-tabs-tab group-tab" id="tab-0-R1VJ" name="R1VJ" role="tab" tabindex="0">GUI</button><button aria-controls="panel-0-VENM" aria-selected="false" class="sphinx-tabs-tab group-tab" id="tab-0-VENM" name="VENM" role="tab" tabindex="-1">TCL</button></div><div aria-labelledby="tab-0-R1VJ" class="sphinx-tabs-panel group-tab" id="panel-0-R1VJ" name="R1VJ" role="tabpanel" tabindex="0"><div class="important admonition">
<p class="admonition-title">Running the Simulation</p>
<p>On the left-hand side, from the Flow Navigator, under
<strong>Simulation</strong>, click <strong>Run Simulation -&gt; Run Behavioral Simulation</strong></p>
<p>This will execute for a bit (compiling and elaborating your
design, then running the simulation), and finish by opening a
simulation window. In it, the default tabs open are (left to
right):</p>
<ul>
<li><p><strong>Scope</strong>: The current scope in the hierarchy that we’re
examining. Use the drop-down arrows to navigate</p></li>
<li><p><strong>Objects</strong>: The signals within our current scope.</p>
<blockquote>
<div><ul class="simple">
<li><p>Double-clicking on a signal will show you the line in
the file where it’s declared</p></li>
<li><p>Right-click a signal to add it to the waveform</p></li>
</ul>
</div></blockquote>
</li>
<li><p><strong>Waveform</strong> (often titled “Untitled 1” - you may need to
switch tabs): A waveform showing how the signals in our
design change over time</p></li>
</ul>
<p>Using the waveform, verify that the top-level signal
<code class="docutils literal notranslate"><span class="pre">dut_gray_count</span></code> only changes one bit at a time (the
hallmark of a gray code). Additionally, at the bottom,
look in the <strong>Tcl Console</strong> to verify that our testbench
displayed the text “All tests passed!”</p>
</div>
</div><div aria-labelledby="tab-0-VENM" class="sphinx-tabs-panel group-tab" hidden="true" id="panel-0-VENM" name="VENM" role="tabpanel" tabindex="0"><div class="important admonition">
<p class="admonition-title">Running the Simulation</p>
<p>Either from <strong>Tools -&gt; Run Tcl Script</strong> or from the command
line (shown below), run the <code class="docutils literal notranslate"><span class="pre">simulate_design.tcl</span></code> script</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>%<span class="w"> </span>vivado<span class="w"> </span>-mode<span class="w"> </span>batch<span class="w"> </span>-source<span class="w"> </span>../scripts/simulation/simulate_design.tcl
</pre></div>
</div>
<p>From there, follow along with the steps in the GUI commands to
examine the results. Note that if running in batch mode, while
you won’t be able to examine the signals/waveform, you should
still see “All tests passed!” printed to the terminal.</p>
</div>
</div></div>
<p>Lastly, suppose you’re in the GUI, and want to see the results of the
simulation without re-running it. All of the simulation files are kept
in our project directory, under <code class="docutils literal notranslate"><span class="pre">vivado-walkthrough.sim</span></code>. Click on
<strong>Flow -&gt; Open Static Simulation</strong>; in the project directory, navigate to
<code class="docutils literal notranslate"><span class="pre">vivado-walkthrough.sim/sim_1/behav/xsim</span></code>, click on <code class="docutils literal notranslate"><span class="pre">GrayCodeTest_behav.wdb</span></code>,
then click <strong>OK</strong>. This will re-open the simulation as though you had
just run it (although I had to click on <strong>Window -&gt; Waveform</strong> to re-open
the actual waveform)</p>
<p>Once you’re done, click on the <strong>X</strong> at the top of the <strong>Simulation</strong> window
to return to the regular view.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../sources/" class="btn btn-neutral float-left" title="Adding Sources" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../block_designs/" class="btn btn-neutral float-right" title="Adding Block Designs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Aidan McNay.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>